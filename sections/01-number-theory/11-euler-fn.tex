\subsection{Функция Эйлера}

\begin{theorem-non}
    $\letus m \in \N;~a \in \Z$

    $[a]_m \in (\Z/m\Z)^* \iff (a, m) = 1$
\end{theorem-non}

\begin{proof}
    
    $[a]_m \in (\Z/m\Z)^* \iff \exists [b]_m:~[a]_m \cdot [b]_m = [1]_m \iff$
    
    $\exists b \in \Z:~ab \equivm{m} 1 \iff$
    
    $\exists b, c \in \Z:~ab = 1 + mc \iff$
    
    $\exists b, c \in \Z:~ab - mc = 1 \iff (a, m) = 1$
\end{proof}

\begin{follow}
    $\Z/m\Z$ - поле $\iff m$ --- простое число.
\end{follow}

\begin{proof}
    считаем $m \geq 1$
    
    $m = 1$: $\Z/1\Z = \{\oln{0}\}$
    
    $m$ --- простое: $(a, m) = 1$ для $\forall a \in \{1, 2, \ldots, m-1\} \implies$
    
    $(\Z/m\Z)^* = \{\oln{1}, \oln{2}, \ldots, \oln{m-1}\}$
    
    $m$ --- составное: $m = ab,~2 \leq a \leq m-1$
    
    $(a, m) \neq 1 \implies \oln{a} \notin (\Z/m\Z)^*$
\end{proof}

\begin{defn}
    $\F_{n}$ --- поле из $n$ элементов.
\end{defn}

\begin{theorem-non}
    $\F_{n}$ --- поле из $n$ элементов $\iff n = p^r,~ p \in \P,~ r \in \Z_{+}$.

    $p$ - характеристика $\F_{n}$.
\end{theorem-non}
\begin{proof}
    \TODO{Пока без доказательства.}
\end{proof}
\begin{defn}
    $\letus m \in \N: \varphi(n) = |(\Z/m\Z)^*|$

    Функция $\varphi \times \N \to \N$ --- функция Эйлера.
\end{defn}

\begin{theorem-non}
    $\letus p \in \P,~r \in \N$.

    Тогда $\varphi(p^r) = p^r - p^{r-1}$.
\end{theorem-non}

\begin{proof}
    $\varphi(p^r) = |\{a \mid 0 \leq a \leq p^r-1,~(a, p^r) = 1\}| = $

    $p^r -  |\{a \mid 0 \leq a \leq p^r-1,~(a, p) \neq 1\}| = $
    
    $p^r - |\{a \mid 0 \leq a \leq p^r-1,~p \mid a\}| = p^r - p^{r-1}$
\end{proof}

\begin{theorem-non} Мультипликативность функции Эйлера. \\
    $\letus m, n \in \N,~(m, n) = 1$.

    Тогда $\varphi(mn) = \varphi(m) \cdot \varphi(n)$.
\end{theorem-non}

\begin{proof}
    Построим отображение $\lambda: (\Z/mn\Z)^* \to (\Z/m\Z)^* \times (\Z/n\Z)^*$:
    
    $[a]_{mn} = A \in (\Z/mn\Z)^* \mapsto ([a]_m, [a]_n)$
    
    $[a]_{mn} \in (\Z/mn\Z)^* \implies (a, mn) = 1  \implies 
    \begin{cases}
        (a, m) = 1\\
        (a,n) = 1
    \end{cases}
    \begin{cases}
        [a]_m \in (\Z/m\Z)^*\\
        [a]_n \in (\Z/n\Z)^*
    \end{cases}$

    Проверка корректности:

    $[a]_{mn} = [a']_{mn} \implies a \equivm{mn} a' \implies
    \begin{cases}
        a \equivm{m} a'\\
        a \equivm{n} a'
    \end{cases} \implies
    \begin{cases}
        [a]_m = [a']_m\\
        [a]_n = [a']_n
    \end{cases} \implies 
    ([a]_m, [a]_n) = ([a']_m, [a']_n)$

    Проверим что $\lambda$ --- биекция:

    Инъективность:

    $\lambda([a]_{mn}) = \lambda([b]_{mn}) \implies
    \begin{cases}
        [a]_m = [b]_m\\
        [a]_n = [b]_n
    \end{cases}
    \overset{\text{КТО}}{\implies} a \equivm{mn} b \implies [a]_{mn} = [b]_{mn}$

    Сюръективность:

    Рассмотрим $([b]_m, [c]_n) \in (\Z/m\Z)^* \times (\Z/n\Z)^*$.

    $(m, n) = 1 \overset{\text{КТО}}{\implies} \exists a:
    \begin{cases}
        a \equivm{m} b\\
        a \equivm{n} c
    \end{cases}$

    $\begin{cases}
        (b, m) = 1 \implies (a, m) = 1\\
        (c, n) = 1 \implies (a, n) = 1
    \end{cases}    
    \implies (a, mn) = 1 \implies [a]_{mn} \in (\Z/mn\Z)^*$

    $\lambda([a]_{mn}) = ([a]_m, [a]_n) = ([b]_m, [c]_n) \implies \lambda$ --- биекция.

    $\lambda$ --- биекция $\implies |(\Z/mn\Z)^*| = |(\Z/m\Z)^* \times (\Z/n\Z)^*| \implies \varphi(mn) = \varphi(m) \cdot \varphi(n)$
\end{proof}

\begin{follow}
    $\letus m_1, \ldots, m_k$ --- попарно взаимно простые числа.

    Тогда $\varphi(\prod\limits_{i=1}^k m_i) = \prod\limits_{i=1}^k \varphi(m_i)$.
\end{follow}

\begin{proof}
    Индукция по $k$.

    База: $k = 1 \implies \varphi(m_1) = \varphi(m_1)$
    
    Переход: $n-1 \to n$
    
    $(m_n, m_1) = \ldots = (m_n, m_{n-1}) = 1 \implies (m_1, \ldots, m_n) = 1 \implies$
    
    $\varphi(m_1 \ldots m_n) = \varphi(m_1 \ldots m_{n-1}) \varphi(m_n) = \varphi(m_1) \ldots \varphi(m_{n-1}) \varphi(m_n)$
\end{proof}

\begin{follow}
    $\letus n = p_1^{r_1}, \ldots, p_s^{r_s}$ --- разложение числа $n$ на простые множители.
    
    $\implies \varphi(n) = \prod\limits_{i=1}^s (p_i^{r_i} - p_i^{r_i-1})$
\end{follow}

\begin{proof}
    По следствию: $\varphi(n) = \varphi(\prod\limits_{i=1}^s p_i^{r_i}) = \prod\limits_{i=1}^s \varphi(p_i^{r_i}) = \prod\limits_{i=1}^s (p_i^{r_i} - p_i^{r_i-1})$
\end{proof}

\begin{theorem}
    $\letus m \in \N, a \in \Z, (a, m) = 1 \implies a^{\varphi(m)} \equivm{m} 1$ --- теорема Эйлера.
\end{theorem}

\begin{lemma}~

    Пусть $R$ --- ассоциативное кольцо с единицей.
    \begin{enumerate}
        \item $a, b \in R^* \implies ab \in R^*$
        
        \item $a \in R^*,~x,y \in R \implies ax = ay \implies x = y,~xa = ya \implies x = y$
    \end{enumerate}
\end{lemma}

\begin{proof}
    \begin{enumerate}
        \item $a'$ --- обратный к $a$ элемент, $b'$ --- обратный к $b$ элемент.
        
        $(ab)(b'a') = a(bb')a' = aa' = 1$
        
        $(b'a)(ab) = b'(aa')b = bb' = 1$
        
        \item $a'$ --- обратный к $a$ элемент.
        
        $ax = ay \implies a'ax = a'ay \implies x = y$
        
        $xa = ya \implies xaa' = yaa' \implies x = y$
    \end{enumerate}
\end{proof}

\begin{proof}(теоремы Эйлера)

    $(\Z/m\Z)^* = \{A_1, A_2, \ldots, A_{\varphi(m)}\}$
    
    $[a]_m A_j \in (\Z/m\Z)^* \overset{lemma-1}{\implies}$
    
    $[a]_m A_1, \ldots, [a]_m A_{\varphi(m)}$ --- различные элементы 
    
    $([a]_m A_j = [a]_m A_k \overset{lemma-2}{\implies} A_j = A_k) \implies$
    
    $\{[a]_m A_1, \ldots, [a]_m A_{\varphi(m)}\} = (\Z/m\Z)^* \implies$
    
    $[a]_m A_1 \cdot \ldots \cdot [a]_m A_{\varphi(m)} = A_1 A_2 \ldots A_{\varphi(m)} \implies$
    
    $[a]_m^{\varphi(m)} A_1 A_2 \ldots A_{\varphi(m)} = [1]_m A_1 A_2 \ldots A_{\varphi(m)} \overset{lemma-2}{\implies}$
    
    $[a]_m^{\varphi(m)} = [1]_m \implies [a^{\varphi(m)}]_m = [1]_m \implies a^{\varphi(m)} \equivm{m} 1$
\end{proof}

\begin{theorem}(Малая теорема Ферма)

    $\letus p \in \P, a \in \Z \implies a^p \equivm{p} a$
\end{theorem}

\begin{proof}

    $(a, p) = 1 \implies a^{p-1} \equivm{p} 1 \implies a^{p-1}a \equivm{p} 1a \implies a^p \equivm{p} a$

    $(a, p) \neq 1 \implies a \equivm{p} 0 \implies a^p \equivm{p} 0 \implies a^p \equivm{p} a$
\end{proof}

\begin{theorem}(Теорема Вильсона)

    $p \in \P \implies (p-1)! \equivm{p} -1$
\end{theorem}

\begin{proof}
    
    В $(\Z/m\Z)^*$ 

    $\oln{(p-1)!} = \oln{1} \cdot \oln{2} \cdot \ldots \cdot \oln{p-1} = \prod\limits_{A \in (\Z/m\Z)^*} A = 
    \prod\limits_{A^2 = \oln{1}} A \cdot \prod\limits_{A^2 \neq \oln{1}} A = (\prod\limits_{A^2 = \oln{1}} A) \cdot (A_1 \cdot A_1' \cdot \ldots) = (\prod\limits_{A^2 = \oln{1}} A) \cdot \oln{1} = \prod\limits_{A^2 = \oln{1}} A$
    
    $A^2 = \oln{1} \iff A^2 - \oln{1}^2 = \oln{0} \iff (A - \oln{1})(A + \oln{1}) = \oln{0} \overset{\Z/p\Z - \text{ ОЦ}}{\iff} A - \oln{1} = \oln{0} \text{ или } A + \oln{1} = \oln{0} \implies 
    \begin{cases}
        p = 2 &\prod\limits_{A^2 = \oln{1}} A = \oln{1} = \oln{-1}\\
        p \neq 2 &\prod\limits_{A^2 = \oln{1}} A = \oln{-1}
    \end{cases}$
\end{proof}


